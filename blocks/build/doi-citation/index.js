(()=>{"use strict";var e,t={190:(e,t,i)=>{const o=window.wp.blocks,n=window.prcIcons,r=window.ReactJSXRuntime,a=()=>(0,r.jsx)(n.Icon,{icon:"fingerprint",library:"light",size:"1.2"}),s=window.classnames;var l=i.n(s);const c=window.wp.i18n,p=window.wp.element,d=window.wp.blockEditor,u=window.wp.coreData,h=window.wp.components,m=function({date:e="2025",title:t="Title of the Article",doiCitation:i="XX.XXX/XXXXX",allowEditing:n=!1,editingAsRichText:a=!1,onChange:s=()=>{}}){const l=(0,c.sprintf)('"%s."',t);return(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{children:["Doe, John. ",e,". ",l," Pew Research Center. doi:"]})," ",n?a?(0,r.jsx)(d.RichText,{tagName:"span",onChange:s,allowedFormats:[],keepPlaceholderOnFocus:!0,value:i,placeholder:"Citation ID Here...",disableLineBreaks:!0,__unstableOnSplitAtEnd:()=>insertBlocksAfter((0,o.createBlock)((0,o.getDefaultBlockName)()))}):(0,r.jsx)(h.TextControl,{value:i,onChange:s}):(0,r.jsx)("span",{children:(0,r.jsx)("a",{href:`https://doi.org/${i}`,children:i})})]})},g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/doi-citation","version":"1.0.0","title":"DOI Citation","description":"Displays the DOI citation of a post.","category":"layout","attributes":{},"example":{"attributes":{}},"supports":{"anchor":true,"html":false,"multiple":false,"color":{"text":true,"background":false,"link":true,"heading":true},"spacing":{"margin":["top","bottom"],"padding":true},"typography":{"fontSize":true,"__experimentalFontFamily":true,"lineHeight":true,"letterSpacing":true,"defaultControls":{"fontSize":true}}},"usesContext":["postType","postId"],"textdomain":"post-doi-citation","editorScript":"file:./index.js","style":"file:./style-index.css","render":"file:./render.php"}'),{name:w}=g,f={icon:(0,r.jsx)(a,{}),edit:function({attributes:e,className:t,setAttributes:i,insertBlocksAfter:o,context:n}){const{textAlign:a}=e,{postId:s,postType:h}=n,[g]=(0,u.useEntityProp)("postType",h,"title",s),[w]=(0,u.useEntityProp)("postType",h,"date",s),[f,x]=(0,u.useEntityProp)("postType",h,"meta",s),b=f?.datacite_doi_citation||"XX.XXX/XXXXX",y=(0,d.useBlockProps)({className:l()(t,{[`has-text-align-${a}`]:a})}),v=(0,p.useMemo)((()=>!h||!s||"wp_template"===h),[h,s]),_=(0,p.useMemo)((()=>g||(0,c.__)("Title of the Article","prc-academic-identity")),[g]),k=(0,p.useMemo)((()=>new Date(w||null).getFullYear()),[w]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.BlockControls,{children:(0,r.jsx)(d.AlignmentControl,{value:a,onChange:e=>{i({textAlign:e})}})}),(0,r.jsxs)("div",{...y,children:[(0,r.jsx)("h5",{children:"Recommended Citation:"}),(0,r.jsx)(m,{date:k,title:_,doiCitation:b,allowEditing:v,editingAsRichText:!0,onChange:e=>void 0!==s&&x({...f,datacite_doi_citation:e})})]})]})}};(0,o.registerBlockType)(w,{...g,...f})}},i={};function o(e){var n=i[e];if(void 0!==n)return n.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,i,n,r)=>{if(!i){var a=1/0;for(p=0;p<e.length;p++){for(var[i,n,r]=e[p],s=!0,l=0;l<i.length;l++)(!1&r||a>=r)&&Object.keys(o.O).every((e=>o.O[e](i[l])))?i.splice(l--,1):(s=!1,r<a&&(a=r));if(s){e.splice(p--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[i,n,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={392:0,592:0};o.O.j=t=>0===e[t];var t=(t,i)=>{var n,r,[a,s,l]=i,c=0;if(a.some((t=>0!==e[t]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var p=l(o)}for(t&&t(i);c<a.length;c++)r=a[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(p)},i=globalThis.webpackChunk_pewresearch_prc_schema_academic_identity_blocks=globalThis.webpackChunk_pewresearch_prc_schema_academic_identity_blocks||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var n=o.O(void 0,[592],(()=>o(190)));n=o.O(n)})();
//# sourceMappingURL=index.js.map