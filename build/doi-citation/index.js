(()=>{"use strict";var e,t={140:(e,t,i)=>{const n=window.wp.blocks,o=window.prcIcons,r=window.ReactJSXRuntime,a=()=>(0,r.jsx)(o.Icon,{icon:"fingerprint",library:"light",size:"1.2"}),s=window.classnames;var l=i.n(s);const c=window.wp.i18n,p=window.wp.element,d=window.wp.blockEditor,u=window.wp.coreData,h=window.wp.components,m=function({date:e="2025",title:t="Title of the Article",doiCitation:i="XX.XXX/XXXXX",allowEditing:o=!1,editingAsRichText:a=!1,onChange:s=()=>{}}){const l=(0,c.sprintf)('"%s."',t);return(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{children:["Doe, John. ",e,". ",l," Pew Research Center. doi:"]})," ",o?a?(0,r.jsx)(d.RichText,{tagName:"span",onChange:s,allowedFormats:[],keepPlaceholderOnFocus:!0,value:i,placeholder:"Citation ID Here...",disableLineBreaks:!0,__unstableOnSplitAtEnd:()=>insertBlocksAfter((0,n.createBlock)((0,n.getDefaultBlockName)()))}):(0,r.jsx)(h.TextControl,{value:i,onChange:s}):(0,r.jsx)("span",{children:(0,r.jsx)("a",{href:`https://doi.org/${i}`,children:i})})]})},g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/doi-citation","version":"1.0.0","title":"DOI Citation","description":"Displays the DOI citation of a post.","category":"layout","attributes":{},"example":{"attributes":{}},"supports":{"anchor":true,"html":false,"multiple":false,"color":{"text":true,"background":false,"link":true,"heading":true},"spacing":{"margin":["top","bottom"],"padding":true},"typography":{"fontSize":true,"__experimentalFontFamily":true,"lineHeight":true,"letterSpacing":true,"defaultControls":{"fontSize":true}}},"usesContext":["postType","postId"],"textdomain":"post-doi-citation","editorScript":"file:./index.js","style":"file:./style-index.css","render":"file:./render.php"}'),{name:f}=g,w={icon:(0,r.jsx)(a,{}),edit:function({attributes:e,className:t,setAttributes:i,insertBlocksAfter:n,context:o,__unstableLayoutClassNames:a}){const{textAlign:s}=e,{postId:h,postType:g}=o,[f]=(0,u.useEntityProp)("postType",g,"title",h),[w]=(0,u.useEntityProp)("postType",g,"date",h),[x,y]=(0,u.useEntityProp)("postType",g,"meta",h),b=x?.datacite_doi_citation||"XX.XXX/XXXXX",v=(0,d.useBlockProps)({className:l()(t,a,{[`has-text-align-${s}`]:s})}),_=(0,p.useMemo)(()=>!g||!h||"wp_template"===g,[g,h]),k=(0,p.useMemo)(()=>f||(0,c.__)("Title of the Article","prc-academic-identity"),[f]),X=(0,p.useMemo)(()=>new Date(w||null).getFullYear(),[w]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.BlockControls,{children:(0,r.jsx)(d.AlignmentControl,{value:s,onChange:e=>{i({textAlign:e})}})}),(0,r.jsxs)("div",{...v,children:[(0,r.jsx)("h5",{children:"Recommended Citation:"}),(0,r.jsx)(m,{date:X,title:k,doiCitation:b,allowEditing:_,editingAsRichText:!0,onChange:e=>void 0!==h&&y({...x,datacite_doi_citation:e})})]})]})}};(0,n.registerBlockType)(f,{...g,...w})}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,i,o,r)=>{if(!i){var a=1/0;for(p=0;p<e.length;p++){for(var[i,o,r]=e[p],s=!0,l=0;l<i.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every(e=>n.O[e](i[l]))?i.splice(l--,1):(s=!1,r<a&&(a=r));if(s){e.splice(p--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[i,o,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={392:0,592:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var o,r,[a,s,l]=i,c=0;if(a.some(t=>0!==e[t])){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var p=l(n)}for(t&&t(i);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(p)},i=globalThis.webpackChunk_prc_schema_academic_identity=globalThis.webpackChunk_prc_schema_academic_identity||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var o=n.O(void 0,[592],()=>n(140));o=n.O(o)})();
//# sourceMappingURL=index.js.map